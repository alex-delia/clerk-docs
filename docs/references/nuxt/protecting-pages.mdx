---
title: Protecting pages
description: Learn how to protect your Nuxt pages by restricting access to authenticated users using route middleware.
---

> [!NOTE]
> Nuxt route middleware (used below) is different from server middleware. Route middleware executes during both server-side render and client-side navigation, making it perfect for protecting pages. If you want to protect API routes instead, check out our guide on [protecting API routes](/docs/references/nuxt/clerk-middleware#protect-api-routes).

To protect pages, first create a named route middleware that checks the user's authentication status:

```ts {{ filename: 'middleware/auth.ts' }}
export default defineNuxtRouteMiddleware((to) => {
  const { userId } = useAuth()
  const isProtectedPage = to.path.startsWith('/dashboard')

  // Redirect to sign-in page if user is not signed in
  if (!userId.value && isProtectedPage) {
    return navigateTo('/sign-in')
  }
})
```

Then, add this middleware configuration to any page that requires protection:

```vue {{ filename: 'pages/dashboard.vue' }}
<script setup lang="ts">
definePageMeta({
  // auth is the name of the middleware file
  middleware: ['auth'],
})
</script>

<template>
  <h1>Dashboard page</h1>
</template>
```
